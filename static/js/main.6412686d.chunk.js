(this["webpackJsonpreact-game"]=this["webpackJsonpreact-game"]||[]).push([[0],{32:function(e,t,n){},33:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),o=n(26),s=n.n(o),r=(n(32),n(16)),i=n(17),u=n(20),d=n(19),l=n(4),j=n(2),b=n(11),h=n(15),f=(n(33),n(0));var m=function(e){return Object(f.jsx)("div",{children:e.snakeBody.map((function(e,t){var n={left:"".concat(e[0],"%"),top:"".concat(e[1],"%")};return Object(f.jsx)("div",{className:!1===JSON.parse(localStorage.getItem("default-mode"))?"snake-body":"snake-body default",style:n},t)}))})};n(35);var O=function(e){var t={left:"".concat(e.food[0],"%"),top:"".concat(e.food[1],"%")};return Object(f.jsx)("div",{className:"food",style:t})};var p=function(e){return Object(f.jsxs)("span",{children:["Your score: ",e.counter]})};n(36);var g=function(e){return Object(f.jsxs)("div",{className:e.lose?"log":"log none",children:[Object(f.jsx)("h2",{children:"You was lose"}),Object(f.jsxs)("h3",{children:["Your score: ",e.counter]}),Object(f.jsx)(l.b,{to:"/menu",children:"Okay"})]})},x=n(9),v=n.n(x),k=n(14),y=function(e,t){localStorage.setItem(e,JSON.stringify(t))},S=function(e){return JSON.parse(localStorage.getItem(e))},N=function(){var e=Object(k.a)(v.a.mark((function e(t){var n,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=S("nick-name"),c={nickName:n,score:t,date:new Date},e.next=4,fetch("https://react-game123.herokuapp.com/newBestPlayer",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(c)});case 4:e.sent;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(k.a)(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://react-game123.herokuapp.com/best-players");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){return[2*Math.floor((98*Math.random()+1)/2),2*Math.floor((98*Math.random()+1)/2)]},A=function(e){return JSON.parse(localStorage.getItem(e))/10},E=(n(43),{snakeBody:[[0,0],[2,0]],food:C(),direction:"RIGHT",speed:S("speed"),counter:0,lose:!1,autoPlay:!1,defaultMode:S("default-mode")}),B=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var c;return Object(r.a)(this,n),(c=t.call(this,e)).oneKeyDown=function(e){38===(e=e||window.event).keyCode&&"DOWN"!=c.state.direction?c.setState({direction:"UP"}):40===e.keyCode&&"UP"!=c.state.direction?c.setState({direction:"DOWN"}):37===e.keyCode&&"RIGHT"!=c.state.direction?c.setState({direction:"LEFT"}):39===e.keyCode&&"LEFT"!=c.state.direction?c.setState({direction:"RIGHT"}):32===e.keyCode&&(c.setState({lose:!0}),c.gameExit())},c.checkTheBorder=function(){var e=c.state.snakeBody[c.state.snakeBody.length-1];(e[0]>=100||e[0]<0||e[1]>=100||e[1]<0)&&c.gameExit()},c.checkToCrushByBody=function(){var e=Object(h.a)(c.state.snakeBody),t=e[e.length-1];e.pop(),e.forEach((function(n,a){t[0]===n[0]&&t[1]===n[1]&&a<e.length-1&&c.gameExit()}))},c.checkIfEatFood=function(){var e=c.state.snakeBody[c.state.snakeBody.length-1],t=c.state.food;e[0]===t[0]&&e[1]===t[1]&&(c.setState({food:C(),counter:c.state.counter+1}),c.enlargeSnake(),S("audio-effect")&&c.audio.play())},c.enlargeSnake=function(){var e=Object(h.a)(c.state.snakeBody);e.unshift([]),c.setState({snakeBody:e})},c.gameExit=function(){c.setState(Object(b.a)(Object(b.a)({},E),{},{lose:!0,counter:c.state.counter})),document.removeEventListener("keydown",c.oneKeyDown),clearInterval(c.timer),c.backgroundAudio.muted=!0,S("audio-effect")&&c.errorAudio.play(),!1===c.state.autoPlay&&(!function(e){var t=JSON.parse(localStorage.getItem("best-game"))||[],n={score:e,date:new Date};t.push(n),t.sort((function(e,t){return e.score<t.score?1:-1})),localStorage.setItem("best-game",JSON.stringify(t.slice(0,10)))}(c.state.counter),N(c.state.counter))},c.moveSnake=function(){var e=Object(h.a)(c.state.snakeBody),t=e[e.length-1],n=c.state.direction,a=Object(h.a)(c.state.food);"RIGHT"===n?t=[t[0]+2,t[1]]:"LEFT"===n?t=[t[0]-2,t[1]]:"UP"===n?t=[t[0],t[1]-2]:"DOWN"===n&&(t=[t[0],t[1]+2]),e.push(t),e.shift(),c.setState({snakeBody:e}),!0===c.state.autoPlay&&(t[0]===a[0]&&t[1]<a[1]?c.setState({direction:"DOWN"}):t[0]===a[0]&&t[1]>a[1]?c.setState({direction:"UP"}):t[0]<a[0]?c.setState({direction:"RIGHT"}):t[0]>a[0]&&c.setState({direction:"LEFT"}))},localStorage.getItem("state")?c.state=JSON.parse(localStorage.getItem("state")):c.state=E,c.timer=null,c}return Object(i.a)(n,[{key:"componentDidMount",value:function(){E.speed=S("speed"),this.setState({speed:S("speed")}),this.timer=setInterval(this.moveSnake,this.state.speed),document.addEventListener("keydown",this.oneKeyDown),this.audio=new Audio("https://english-for-kids.netlify.app/static/media/correct.8e3d6124.mp3"),this.backgroundAudio=new Audio("https://soundimage.org/wp-content/uploads/2014/08/Netherplace.mp3"),this.errorAudio=new Audio("https://english-for-kids.netlify.app/static/media/error.32fc22b2.mp3"),this.backgroundAudioAction=new Audio("https://www.playonloop.com/previews/POL-guilty-one-preview.mp3"),this.backgroundAudio.volume=A("background-audio-volume"),this.audio.volume=A("audio-effect-volume"),this.errorAudio.volume=A("audio-effect-volume"),this.backgroundAudioAction.volume=A("background-audio-volume"),S("background-audio")&&S("crazy-mode")&&20===S("speed")?this.backgroundAudioAction.play():S("background-audio")&&this.backgroundAudio.play()}},{key:"componentDidUpdate",value:function(){var e;this.checkIfEatFood(),this.checkTheBorder(),this.checkToCrushByBody(),e=this.state,localStorage.setItem("state",JSON.stringify(e))}},{key:"componentWillUnmount",value:function(){this.state.lose&&localStorage.removeItem("state"),!0===this.state.autoPlay&&this.setState(Object(b.a)(Object(b.a)({},E),{},{autoPlay:!0})),this.backgroundAudio.muted=!0,this.audio.muted=!0,this.errorAudio.muted=!0,this.backgroundAudioAction.muted=!0,clearInterval(this.timer)}},{key:"render",value:function(){var e=this;return Object(f.jsxs)("div",{className:"game-container",children:[Object(f.jsxs)("div",{className:!0===S("default-mode")?"game-field default":"game-field",children:[Object(f.jsx)(m,{snakeBody:this.state.snakeBody,mode:this.state.defaultMode}),Object(f.jsx)(O,{food:this.state.food}),Object(f.jsx)(g,{lose:this.state.lose,counter:this.state.counter})]}),Object(f.jsxs)("div",{className:"panel",children:[Object(f.jsx)("button",{disabled:this.state.lose,onClick:function(){return e.setState(E)},children:"New game"}),Object(f.jsx)(p,{counter:this.state.counter}),Object(f.jsx)("button",{disabled:this.state.lose,onClick:function(){return e.setState(Object(b.a)(Object(b.a)({},E),{},{autoPlay:!0}))},children:"Autoplay"})]})]})}}]),n}(a.a.Component);n(44);var I=function(){return Object(f.jsxs)("ul",{className:"navigation",children:[Object(f.jsx)("li",{children:Object(f.jsx)(l.b,{to:"/start-game",children:"Start Game"})}),Object(f.jsx)("li",{children:Object(f.jsx)(l.b,{to:"/game-mode",children:"Game mode"})}),Object(f.jsx)("li",{children:Object(f.jsx)(l.b,{to:"/audio-effect",children:"Settings"})}),Object(f.jsx)("li",{children:Object(f.jsx)(l.b,{to:"/best-game",children:"Statistics"})}),Object(f.jsx)("li",{children:Object(f.jsx)(l.b,{to:"/top-players",children:"Top players"})})]})},T=(n(45),function(){return Object(f.jsxs)("div",{className:"header",children:[Object(f.jsx)(l.b,{to:"/menu",children:Object(f.jsx)("img",{className:"back-arrow",src:"https://img.icons8.com/carbon-copy/100/000000/circled-left.png"})}),Object(f.jsx)("img",{className:"full-screen",src:"https://img.icons8.com/wired/64/000000/full-screen.png"})]})}),P=(n(46),function(){return Object(f.jsxs)("div",{className:"footer",children:[Object(f.jsx)("span",{children:"Created by: \xa0"}),Object(f.jsx)("a",{href:"https://github.com/DimaKukhta",children:"Dima Kukhta \xa0"}),Object(f.jsx)("span",{children:"for \xa0"}),Object(f.jsx)("a",{href:"https://rs.school/js/",children:"Rolling Scope School \xa0"}),Object(f.jsx)("img",{className:"logo-course",src:"https://rs.school/images/rs_school_js.svg",alt:"logo-course"})]})}),D=function(){var e=JSON.parse(localStorage.getItem("best-game"))||[];return e=e.map((function(e,t){return Object(f.jsxs)("li",{children:[t+1,". Score: ",e.score,", ",e.date]},t)})),Object(f.jsxs)("ul",{children:[Object(f.jsx)("li",{children:"Best score / date"}),e]})},J=n(5),M=function(){var e=Object(c.useState)(S("background-audio")),t=Object(J.a)(e,2),n=t[0],a=t[1],o=Object(c.useState)(S("audio-effect")),s=Object(J.a)(o,2),r=s[0],i=s[1],u=Object(c.useState)(S("background-audio-volume")),d=Object(J.a)(u,2),l=d[0],j=d[1],b=Object(c.useState)(S("audio-effect-volume")),h=Object(J.a)(b,2),m=h[0],O=h[1];Object(c.useEffect)((function(){y("background-audio",n)}),[n]),Object(c.useEffect)((function(){y("audio-effect",r)}),[r]);return Object(f.jsxs)("div",{children:[Object(f.jsx)("h3",{children:"Background audio"}),Object(f.jsxs)("label",{children:[" On / off",Object(f.jsx)("input",{type:"checkbox",name:"backgroundAudio",checked:n,onChange:function(){return a(!n)}})]}),Object(f.jsx)("div",{children:"Volume of background audio"}),Object(f.jsx)("input",{type:"range",name:"volumeOfBackgroundAudio",min:"1",max:"10",value:l,onChange:function(e){j(e.target.value),y("background-audio-volume",e.target.value)}}),Object(f.jsxs)("span",{children:[" ",10*l+"%"," "]}),Object(f.jsx)("h3",{children:"Audio Effect"}),Object(f.jsxs)("label",{children:["On / off",Object(f.jsx)("input",{type:"checkbox",name:"audioEffect",checked:r,onChange:function(){return i(!r)}})]}),Object(f.jsx)("div",{children:"Volume of audio effects"}),Object(f.jsx)("input",{type:"range",name:"volumeOfAudioEffect",min:"1",max:"10",value:m,onChange:function(e){O(e.target.value),y("audio-effect-volume",e.target.value)}}),Object(f.jsxs)("span",{children:[" ",10*m+"%"," "]})]})},F=function(){var e=Object(c.useState)(S("default-mode")),t=Object(J.a)(e,2),n=t[0],a=t[1],o=Object(c.useState)(S("speed")),s=Object(J.a)(o,2),r=s[0],i=s[1],u=Object(c.useState)(S("crazy-mode")),d=Object(J.a)(u,2),l=d[0],j=d[1];Object(c.useEffect)((function(){y("default-mode",n)}),[n]),Object(c.useEffect)((function(){y("speed",r)}),[r]),Object(c.useEffect)((function(){y("crazy-mode",l),l&&i(20)}),[l]);var b=function(){a(!n)},h=function(e){"slow"===e.target.value?i(50):"fast"===e.target.value?i(25):i(20)},m=function(){j(!l)};return Object(f.jsxs)("div",{children:[Object(f.jsxs)("form",{children:[Object(f.jsx)("p",{children:"The style of game field:"}),Object(f.jsxs)("p",{children:[Object(f.jsx)("input",{name:"theme",type:"radio",value:"light",checked:!n,onChange:b})," Light"]}),Object(f.jsxs)("p",{children:[Object(f.jsx)("input",{name:"theme",type:"radio",value:"dark",checked:n,onChange:b})," Dark"]})]}),Object(f.jsxs)("form",{children:[Object(f.jsx)("p",{children:"The speed of game:"}),Object(f.jsxs)("p",{children:[Object(f.jsx)("input",{name:"speed",type:"radio",value:"slow",checked:50===r,onChange:h})," Slow"]}),Object(f.jsxs)("p",{children:[Object(f.jsx)("input",{name:"speed",type:"radio",value:"fast",checked:25===r,onChange:h})," Fast"]}),Object(f.jsxs)("p",{children:[Object(f.jsx)("input",{name:"speed",type:"radio",value:"extreme",checked:20===r,onChange:h})," Extreme"]})]}),Object(f.jsxs)("form",{children:[Object(f.jsx)("p",{children:"Crazy mode:"}),Object(f.jsxs)("p",{children:[Object(f.jsx)("input",{name:"crazyMode",type:"radio",value:"on",checked:l,onChange:m})," On"]}),Object(f.jsxs)("p",{children:[Object(f.jsx)("input",{name:"crazyMode",type:"radio",value:"of",checked:!l,onChange:m})," Off"]})]})]})},L=(n(47),function(){var e=Object(c.useState)([]),t=Object(J.a)(e,2),n=t[0],a=t[1],o=Object(c.useState)(!0),s=Object(J.a)(o,2),r=s[0],i=s[1];return Object(c.useEffect)(Object(k.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:t=e.sent,a(t);case 4:case"end":return e.stop()}}),e)})))),Object(c.useEffect)((function(){n.length&&i(!1)}),[n]),Object(f.jsx)("div",{children:r?Object(f.jsxs)("div",{className:"lds-roller",children:[Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{})]}):Object(f.jsxs)("ul",{children:[Object(f.jsx)("li",{children:"Nick-name / score / date"}),n.map((function(e,t){return Object(f.jsxs)("li",{children:[t+1,". ",e.nickName,", ",e.score,", ",e.date]},t)}))]})})}),z=(n(48),function(){var e=Object(c.useState)(S("nick-name")||""),t=Object(J.a)(e,2),n=t[0],a=t[1];return Object(f.jsxs)("form",{children:[Object(f.jsxs)("label",{className:"label-auth",children:["Enter your nick-name",Object(f.jsx)("input",{className:"input-nick-name",type:"text",value:n,onChange:function(e){a(e.target.value)}})]}),Object(f.jsx)(l.b,{to:"/menu",className:"submit-button",onClick:function(e){y("first-game",!1),y("nick-name",n)},children:"Save"})]})}),G=(n(49),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(r.a)(this,n),e=t.call(this),null!==S("default-mode")&&null!==S("background-audio")&&null!==S("nick-name")||(y("default-mode",!0),y("background-audio",!0),y("audio-effect",!0),y("background-audio-volume",10),y("audio-effect-volume",10),y("speed",50),y("nick-name","Player"+Math.floor(100*Math.random())),y("first-game",!0),y("crazy-mode",!1)),e}return Object(i.a)(n,[{key:"render",value:function(){return Object(f.jsx)(l.a,{children:Object(f.jsxs)("div",{className:"game",children:[Object(f.jsx)(T,{}),Object(f.jsx)(j.b,{path:"/start-game",component:B}),Object(f.jsx)(j.b,{path:"/menu",component:I}),Object(f.jsx)(j.b,{path:"/best-game",component:D}),Object(f.jsx)(j.b,{path:"/audio-effect",component:M}),Object(f.jsx)(j.b,{path:"/game-mode",component:F}),Object(f.jsx)(j.b,{path:"/top-players",component:L}),Object(f.jsx)(j.b,{path:"/auth-nickName",component:z}),S("first-game")?Object(f.jsx)(j.a,{from:"*",to:"/auth-nickName"}):Object(f.jsx)(j.a,{from:"/",to:"/menu"}),Object(f.jsx)(P,{})]})})}}]),n}(a.a.Component)),R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,51)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,o=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),o(e),s(e)}))};s.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(G,{})}),document.getElementById("root")),R()}},[[50,1,2]]]);
//# sourceMappingURL=main.6412686d.chunk.js.map